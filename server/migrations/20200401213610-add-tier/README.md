# Migration `20200401213610-add-tier`

This migration has been generated by maticzav at 4/1/2020, 9:36:10 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Tier" AS ENUM ('FREE', 'BASIC');

ALTER TABLE "public"."Purchase" ADD COLUMN "tier" "Tier" NOT NULL DEFAULT 'FREE';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200328231415-make-purchase-email-optional..20200401213610-add-tier
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -17,11 +17,17 @@
   type      InstallationType
   // Purchase
   planId    Int
   plan      String
+  tier      Tier             @default(FREE)
   trial     Boolean          @default(false)
 }
+enum Tier {
+  FREE
+  BASIC
+}
+
 enum InstallationType {
   ORGANIZATION
   USER
 }
```


