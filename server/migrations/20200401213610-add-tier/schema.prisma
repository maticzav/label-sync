datasource postgresql {
  provider = "postgresql"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

model Purchase {
  id        String           @default(cuid()) @id
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
  // Info
  owner     String           @unique
  email     String?
  type      InstallationType
  // Purchase
  planId    Int
  plan      String
  tier      Tier             @default(FREE)
  trial     Boolean          @default(false)
}

enum Tier {
  FREE
  BASIC
}

enum InstallationType {
  ORGANIZATION
  USER
}

model Log {
  id         String   @default(cuid()) @id
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  // Log
  event      String
  type       LogType
  message    String
  data       String?
  // Reference information
  owner      String
  repository String?
}

enum LogType {
  DEBUG
  INFO
  WARN
}